{
  "title": "Search",
  "description": "",
  "callToAction": {
    "text": "View all",
    "url": "/search"
  },
  "internal": {
    // -------------------------------------------------------------------------
    // Simple - These get converted into an Elasticsearch DSL query.
    // For displaying individual cards
    "contentIds": [],
    // For displaying content by type
    "contentTypes": ["profile"],
    // For displaying content by various field values
    "contentFields": {
      "field_topic": { "operator": "AND", "values": [1] },
      "field_tags": { "operator": "AND", "values": [5] }
    },
    // When used like a "Related articles" list, we may want to exclude current page.
    "includeCurrentPage": false,
    "excludeIds": [], // what about fields / types etc?
    // For displaying content by date
    "dateFilter": {
      // Things to support: Year ranges, next 2 weeks, new thing this week, whats new
      "criteria": "range", // "range" / "all" / "upcoming" / "from_current" / "past"
      "startDateField": "field_profile_womens_inducted_date",
      "endDateField": "field_profile_womens_inducted_date",
      "dateRangeStart": "2021-01-01T11:28:23+10:00",
      "dateRangeEnd": "2022-01-01T11:28:23+10:00"
    },
    // -------------------------------------------------------------------------
    // Complex - Pure Elasticsearch DSL Query
    // POST to /search-api - Build functionality in search-api to accept POSTs
    "custom": {
      "bool": {
        "must": {
          "match_all": {}
        },
        "filter": [
          {
            "range": { "field_event_date_end_value": { "gte": "2020-01-30T13:00:00.000Z" } }
          },
          {
            "terms": { "type": ["event"] }
          },
          {
            "terms": { "field_node_site": ["4"] }
          }
        ]
      }
    }
  },
  "interface": {
    // Keyword filter
    "keyword": {
      // https://www.elastic.co/guide/en/elasticsearch/reference/7.8/query-dsl-simple-query-string-query.html
      "type": "basic", // "basic" = use phrase match, "custom-complex" = a custom implementation (e.g. legislation)
      "label": "Search by keyword",
      "placeholder": "Enter keyword(s)",
      "fields": [ "title", "body", "summary_processed" ]
    },
    // Advanced filters
    "filters": {
      "displayHidden": false, // show or hide advanced fields
      "submitOnChange": false,
      "label": "Refine search",
      "submit": {
        "visible": true,
        "label": "Apply change"
      },
      "clearForm": {
        "visible": true, // or "on-dirty"
        "label": "Clear search filters"
      },
      "defaultStyling": true, // Default: 1 field = 100%, 2 fields = 50%, 3 = 33.33% (desktop)
      "fields": [
        {
          "type": "custom-date" // A custom implementation
        },
        {
          "type": "basic",
          "component": "rpl-select",
          "options": {
            // Ability to set vue-form-generator settings direectly.
            // If select and no existing values are set, assume aggregation
          },
          "additionalClasses": [ "rpl-col-2" ],
          "elasticsearch-field": "field_year",
          "elasticsearch-aggregation": true, // this will populate the component options
        }
      ]
    },
    // Display of results
    "display": {
      "type": "grid", // extensible -> allow for more
      "options": {
        // Options passed to the display component
        "resultsCountText": "Displaying {range} of {count} results",
        "loadingText": "Loading",
        "noResultsText": "Sorry! We couldn't find any matches",
        "errorText": "Search isn't working right now, please try again later.",
        "sort": {
          "default": null, // This value must match the first option value.
          "options": [ // If defined - will show external field to set value.
            { "name": "Relevance", "value": null },
            { "name": "Title A-Z", "value": [ { "field": "title", "direction": "asc" } ] },
            { "name": "Title Z-A", "value": [ { "field": "title", "direction": "desc" } ] },
            { "name": "Newest", "value": [ { "field": "field_date", "direction": "asc" } ] },
            { "name": "Oldest", "value": [ { "field": "field_date", "direction": "desc" } ] }
          ]
        },
        "itemsPerPage": {
          "default": 12,
          "options": [ // If defined - will show external field to set value.
            { "name": "10", "value": 10, "default": true },
            { "name": "20", "value": 20 },
            { "name": "50", "value": 50 },
            { "name": "All", "value": 9999 }
          ]
        },
        "pagination": {
          "type": "list", // Future examples: "load-more" / "infinite-scroll"
          "options": {
            // Options passed to the pagination component
          }
        }
      },
      "resultComponent": {
        "type": "basic-card",
        "options": {
          // Options passed to the individual result display
        }
        // mapping is handled in "middleware" (in code, not in schema)
      }
    }
  }
}
